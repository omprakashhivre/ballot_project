{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\omG\\\\OneDrive\\\\Documents\\\\GitHub\\\\ballot_project\\\\front_end\\\\src\\\\Components\\\\ForgotPass.js\",\n    _s = $RefreshSig$();\n\nimport emailjs from \"emailjs-com\";\nimport { ResetPass } from \"./ResetPass.js\";\nimport \"../Pages/reg\"; // import Button from \"../UI/Button\";\n\nimport Nav from \"./nav\";\nimport Upperpart from \"./Upper_part\";\nimport Container from \"@mui/material/Container\"; // import { Link } from \"react-router-dom\";\n\nimport { useState } from \"react\";\nimport \"../UI/Button.css\"; // import {  useNavigate } from \"react-router-dom\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar ForgotPass = () => {\n  _s();\n\n  const [otpsends, setotpsends] = useState(false);\n  const [verifyotp, setverifyotp] = useState(false);\n  const [otp, setotp] = useState(0);\n  const [emailId, setemailId] = useState(\"\");\n  const [userreg, updateuserreg] = useState({\n    email: \"\",\n    password: \"\"\n  });\n\n  const handleInput = e => {\n    //checking of imput is here to pe written\n    const name = e.target.name;\n    const value = e.target.value;\n    updateuserreg({ ...userreg,\n      [name]: value\n    });\n  }; // let navigate = useNavigate();\n  // function req() {\n  //   navigate(\"/\");\n  // }\n  // const onsubmit = (e) => {\n  //   e.preventDefault();\n  //   //validation part is here to be written\n  //   updateuserreg({ email: \"\", password: \"\" });\n  //   console.log(userreg);\n  //   //req();\n  // };\n\n\n  const sendOtp = givenemail => {\n    const newotp = Math.floor(Math.random() * 1000000);\n    setotp(newotp);\n    setemailId(givenemail);\n    console.log(otp + \" == \" + newotp + \" \" + givenemail);\n\n    try {\n      emailjs.send(\"service_ukgndsq\", \"template_k8qpx17\", {\n        message: newotp,\n        to_email: givenemail\n      }, \"user_NDtOXp78ookGeIZN8R3ie\").then(function (res) {\n        console.log(\"status \" + res.status);\n        alert(\"OTP send\");\n        setotpsends(true);\n        document.getElementById(\"otpbutton\").style.display = \"none\";\n      });\n    } catch (error) {\n      alert(\"not able to send OTP check email and try again \", error);\n    }\n  };\n\n  const verifyOtp = otpgot => {\n    if (otp == otpgot) {\n      alert(otp + \" -- >otp matches\");\n      setverifyotp(true);\n    } else alert(\"invalid otp\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"reg lgin\",\n      children: [/*#__PURE__*/_jsxDEV(Upperpart, {\n        top_heading: \"\",\n        heading: \"Forgot Password\",\n        bottom_heading: \"Enter Registered mail /\",\n        link: \"Create account\",\n        href: \"/reg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"email-to-password\",\n          id: \"login_input\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              flexDirection: \"column\"\n            },\n            id: \"\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              placeholder: \"Email\",\n              required: true,\n              autoComplete: \"off\",\n              value: userreg.email,\n              onChange: handleInput,\n              name: \"email\",\n              style: {\n                width: \"auto\",\n                marginBottom: \"20px\"\n              },\n              id: \"givenemail\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"reg_submit\",\n              onClick: () => sendOtp(document.getElementById(\"givenemail\").value),\n              id: \"otpbutton\",\n              children: \"Send Otp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), otpsends ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [verifyotp ? /*#__PURE__*/_jsxDEV(ResetPass, {\n              emailId: emailId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                flexDirection: \"column\"\n              },\n              id: \"otpbox\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                placeholder: \"Enter otp\",\n                required: true,\n                autoComplete: \"off\",\n                onChange: handleInput,\n                name: \"otp\",\n                id: \"enteredotp\",\n                style: {\n                  marginRight: \"20px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"reg_submit\",\n                onClick: () => verifyOtp(document.getElementById(\"enteredotp\").value),\n                children: \"Verify OTP\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 19\n            }, this), \" \"]\n          }, void 0, true) : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ForgotPass, \"5gUuLOPeHScp8y5C65issnpjSnQ=\");\n\n_c = ForgotPass;\nexport default ForgotPass;\n\nvar _c;\n\n$RefreshReg$(_c, \"ForgotPass\");","map":{"version":3,"sources":["C:/Users/omG/OneDrive/Documents/GitHub/ballot_project/front_end/src/Components/ForgotPass.js"],"names":["emailjs","ResetPass","Nav","Upperpart","Container","useState","ForgotPass","otpsends","setotpsends","verifyotp","setverifyotp","otp","setotp","emailId","setemailId","userreg","updateuserreg","email","password","handleInput","e","name","target","value","sendOtp","givenemail","newotp","Math","floor","random","console","log","send","message","to_email","then","res","status","alert","document","getElementById","style","display","error","verifyOtp","otpgot","flexDirection","width","marginBottom","marginRight"],"mappings":"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","sourcesContent":["import emailjs from \"emailjs-com\";\nimport { ResetPass } from \"./ResetPass.js\";\nimport \"../Pages/reg\";\n// import Button from \"../UI/Button\";\nimport Nav from \"./nav\";\nimport Upperpart from \"./Upper_part\";\nimport Container from \"@mui/material/Container\";\n// import { Link } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport \"../UI/Button.css\";\n// import {  useNavigate } from \"react-router-dom\";\n\nvar ForgotPass = () => {\n  const [otpsends, setotpsends] = useState(false);\n  const [verifyotp, setverifyotp] = useState(false);\n  const [otp, setotp] = useState(0);\n  const [emailId, setemailId] = useState(\"\");\n\n  const [userreg, updateuserreg] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  const handleInput = (e) => {\n    //checking of imput is here to pe written\n    const name = e.target.name;\n    const value = e.target.value;\n    updateuserreg({ ...userreg, [name]: value });\n  };\n  // let navigate = useNavigate();\n  // function req() {\n  //   navigate(\"/\");\n  // }\n  // const onsubmit = (e) => {\n  //   e.preventDefault();\n  //   //validation part is here to be written\n  //   updateuserreg({ email: \"\", password: \"\" });\n  //   console.log(userreg);\n  //   //req();\n  // };\n  const sendOtp = (givenemail) => {\n    const newotp = Math.floor(Math.random() * 1000000);\n    setotp(newotp);\n    setemailId(givenemail)\n    console.log(otp + \" == \" + newotp + \" \" + givenemail);\n    try {\n      emailjs\n        .send(\n          \"service_ukgndsq\",\n          \"template_k8qpx17\",\n          {\n            message: newotp,\n            to_email: givenemail,\n          },\n          \"user_NDtOXp78ookGeIZN8R3ie\"\n        )\n        .then(function (res) {\n          console.log(\"status \" + res.status);\n          alert(\"OTP send\");\n          setotpsends(true);\n          document.getElementById(\"otpbutton\").style.display = \"none\";\n        });\n    } catch (error) {\n      alert(\"not able to send OTP check email and try again \", error);\n    }\n  };\n\n  const verifyOtp = (otpgot) => {\n    if (otp == otpgot) {\n      alert(otp + \" -- >otp matches\");\n      setverifyotp(true);\n    } else alert(\"invalid otp\");\n  };\n  return (\n    <>\n      <Nav />\n      <Container className=\"reg lgin\">\n        <Upperpart top_heading=\"\" heading=\"Forgot Password\" bottom_heading=\"Enter Registered mail /\" link=\"Create account\" href=\"/reg\" />\n        <>\n          <div className=\"email-to-password\" id=\"login_input\">\n            <div style={{ display: \"flex\", flexDirection: \"column\" }} id=\"\">\n              <input\n                type=\"email\"\n                placeholder=\"Email\"\n                required\n                autoComplete=\"off\"\n                value={userreg.email}\n                onChange={handleInput}\n                name=\"email\"\n                style={{ width: \"auto\", marginBottom: \"20px\" }}\n                id=\"givenemail\"\n              />\n              <button className=\"reg_submit\" onClick={() => sendOtp(document.getElementById(\"givenemail\").value)} id=\"otpbutton\">\n                Send Otp\n              </button>\n            </div>\n            {otpsends ? (\n              <>\n                {verifyotp ? (\n                  <ResetPass  emailId = {emailId} />\n                ) : (\n                  <div style={{ display: \"flex\", flexDirection: \"column\" }} id=\"otpbox\">\n                    <input\n                      type=\"number\"\n                      placeholder=\"Enter otp\"\n                      required\n                      autoComplete=\"off\"\n                      onChange={handleInput}\n                      name=\"otp\"\n                      id=\"enteredotp\"\n                      style={{ marginRight: \"20px\" }}\n                    />\n                    <button className=\"reg_submit\" onClick={() => verifyOtp(document.getElementById(\"enteredotp\").value)}>\n                      Verify OTP\n                    </button>\n                  </div>\n                )}{\" \"}\n              </>\n            ) : (\n              \"\"\n            )}\n          </div>\n        </>\n      </Container>\n    </>\n  );\n};\nexport default ForgotPass;\n"]},"metadata":{},"sourceType":"module"}